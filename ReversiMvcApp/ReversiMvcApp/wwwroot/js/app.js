"use strict";function asyncGeneratorStep(e,t,n,r,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,o)}function _asyncToGenerator(c){return function(){var e=this,i=arguments;return new Promise(function(t,n){var r=c.apply(e,i);function o(e){asyncGeneratorStep(r,t,n,o,a,"next",e)}function a(e){asyncGeneratorStep(r,t,n,o,a,"throw",e)}o(void 0)})}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var FeedbackWidget=function(){function t(e){_classCallCheck(this,t),_defineProperty(this,"count",1),this._elementId=e}return _createClass(t,[{key:"elementId",get:function(){return this._elementId}},{key:"show",value:function(e,t){var n=document.getElementById(this._elementId);n.style.display="block",$(n).text(e),"danger"===t?($(n).addClass("alert alert-danger"),$(n).removeClass("alert alert-success")):"success"===t&&($(n).addClass("alert alert-success"),$(n).removeClass("alert alert-danger")),this.log({message:e,type:t}),console.log(this.history())}},{key:"hide",value:function(){document.getElementById(this._elementId).style.display="none"}},{key:"log",value:function(e){var t=this.count-10;10<=localStorage.length&&(localStorage.removeItem("feedback_widget"+t),console.log("boven de 10")),localStorage.setItem("feedback_widget"+this.count,JSON.stringify(e)),this.count++}},{key:"removelog",value:function(){for(var e=this.count-10;e<this.count;e++)localStorage.removeItem("feedback_widget"+e);for(e=0;e<10;e++)localStorage.removeItem("feedback_widget"+e)}},{key:"history",value:function(){for(var e=[],t=this.count-localStorage.length;t<this.count;t++)e.push(JSON.parse(localStorage.getItem("feedback_widget"+t)));var n="";for(t=0;t<e.length;t++)e[t]&&(n+=e[t].type+" - "+e[t].message+"\n");return n}}]),t}(),Game=(Game.Data=function(){function t(t){var n=r.mock.find(function(e){return e.url===t}).data;return new Promise(function(e,t){e(n)})}var n={environment:"development"},r={url:"",apiKey:"<plaats hier je apikey>",mock:[{url:"http://localhost:44333/api/spel/beurt",data:0}]};return{init:function(e,t){if(r.url=e,"production"!==t&&"development"!==t)throw new Error("environment must be production or development");n.environment=t,console.log(n.environment+" environment")},get:function(e){return"development"===n.environment?t(e):"production"===n.environment?$.get(e).then(function(e){return e}).catch(function(e){console.log(e.message)}):void 0}}}(),function(){var n={gameState:null};console.log("hallo, vanuit een module");function e(){setInterval(_asyncToGenerator(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Game.Model.getGameState();case 2:t=e.sent,n.gameState=t,console.log(t),console.log("2 secs elapsed");case 6:case"end":return e.stop()}},e)})),2e3)}var t="/api/url";return{init:function(){Game.Data.init("https://localhost:44333","production"),e(),console.log(t)}}}());Game.Model={init:function(){console.log("from game.reversi.init!")},getGameState:function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(t,e){Game.Data.get("https://localhost:44333/api/spel/beurt/3dd7c05b-8358-49b2-bf52-b4edc0d94b47").then(function(e){0===e||1===e||2===e?t(e):console.error("Game.Model.getGameState: Error fetching gamestate")}).catch(function(e){return console.log(e)})}));case 1:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()},Game.Reversi={init:function(){console.log("from game.reversi.init!")}};