"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function asyncGeneratorStep(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function _asyncToGenerator(c){return function(){var e=this,i=arguments;return new Promise(function(t,n){var r=c.apply(e,i);function o(e){asyncGeneratorStep(r,t,n,o,a,"next",e)}function a(e){asyncGeneratorStep(r,t,n,o,a,"throw",e)}o(void 0)})}}var Game=function(){var n={gameState:null};console.log("hallo, vanuit een module");function e(){setInterval(_asyncToGenerator(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Game.Model.getGameState();case 2:t=e.sent,n.gameState=t,console.log(t),console.log("2 secs elapsed");case 6:case"end":return e.stop()}},e)})),2e3)}var t="/api/url";return{init:function(){Game.Data.init("https://localhost:44333","production"),e(),console.log(t)}}}(),FeedbackWidget=function(){function t(e){_classCallCheck(this,t),this._elementId=e}return _createClass(t,[{key:"elementId",get:function(){return this._elementId}},{key:"show",value:function(e,t){var n=$("#"+this._elementId),r=$("#alert-message");$(n).fadeIn("slow"),r.text(e),r.addClass("yeet"),"danger"===t?($(n).addClass("feedback-widget--state-danger"),$(n).removeClass("feedback-widget--state-succes")):"success"===t&&($(n).addClass("feedback-widget--state-succes"),$(n).removeClass("feedback-widget--state-danger")),this.log({message:e,type:t})}},{key:"hide",value:function(){var e=document.getElementById(this._elementId);$(e).fadeOut("slow")}},{key:"log",value:function(e){var t=JSON.parse(localStorage.getItem("feedback_widget"));null==t?localStorage.setItem("feedback_widget",JSON.stringify([e])):(t.push(e),10<t.length&&t.shift(),this.removelog(),localStorage.setItem("feedback_widget",JSON.stringify(t)))}},{key:"removelog",value:function(){localStorage.removeItem("feedback_widget")}},{key:"history",value:function(){var e=(null!=(e=JSON.parse(localStorage.getItem("feedback_widget")))?e:[]).map(function(e){return"".concat(e.type," - ").concat(e.message)}).join("\n");console.log(e)}}]),t}();Game.Data=function(){function t(t){var n=r.mock.find(function(e){return e.url===t}).data;return new Promise(function(e,t){e(n)})}var n={environment:"development"},r={url:"",apiKey:"<plaats hier je apikey>",mock:[{url:"http://localhost:44333/api/spel/beurt",data:0}]};return{init:function(e,t){if(r.url=e,"production"!==t&&"development"!==t)throw new Error("environment must be production or development");n.environment=t,console.log(n.environment+" environment")},get:function(e){return"development"===n.environment?t(e):"production"===n.environment?$.get(e).then(function(e){return e}).catch(function(e){console.log(e.message)}):void 0}}}(),Game.Model={init:function(){console.log("from game.reversi.init!")},getGameState:function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(t,e){Game.Data.get("https://localhost:44333/api/spel/beurt/3dd7c05b-8358-49b2-bf52-b4edc0d94b47").then(function(e){0===e||1===e||2===e?t(e):console.error("Game.Model.getGameState: Error fetching gamestate")}).catch(function(e){return console.log(e)})}));case 1:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()},Game.Reversi={init:function(){console.log("from game.reversi.init!")}};